<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>6 Ways to Count the Number of Lines in a Linux File | PicoDash</title><meta name=generator content="Hugo 0.98.0"><meta name=description content="Quick LinksWhy Count the Lines in a File?  How to Count Lines in a File on Linux  Know Your Linux File System Inside and Out   Key Takeaways   You can use the wc command with the &#34;-l&#34; option to find the line count of a file (wc -l filename). This will also print the name of the file.   A combination of the sed command with the &#34;"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet type=text/css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/cayman.css><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=./favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=./favicon-16x16.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css integrity=sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js integrity=sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><section class=page-header><h1 class=project-name>PicoDash</h1><h2 class=project-tagline></h2><nav><a href=./index.html class=btn>Blog</a>
<a href=./sitemap.xml class=btn>Sitemap</a>
<a href=./index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>6 Ways to Count the Number of Lines in a Linux File</h1><div><strong>Publish date: </strong>2024-09-17</div><h3>Quick Links</h3><ul class=table-content-level-1><li><a href=#>Why Count the Lines in a File?</a></li></ul><ul class=table-content-level-1><li><a href=#>How to Count Lines in a File on Linux</a></li></ul><ul class=table-content-level-1><li><a href=#>Know Your Linux File System Inside and Out</a></li></ul><h3 class="title icon i-list">Key Takeaways</h3><ul><li>You can use the wc command with the "-l" option to find the line count of a file (wc -l filename). This will also print the name of the file.</li><li>A combination of the sed command with the "-n" option can also give you a line count (sed -n '=' filename). This command will print the line numbers without the contents of the file.</li><li>Run the awk command with the built-in "NR" variable to get the line count of a file (awk 'END {print NR}' filename).</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Want to count the number of lines in a Linux file? We'll provide you with a few different ways to do it. Counting the number of lines gives information about how small or large a given file is.</p><h2 id=why-count-the-lines-in-a-file>Why Count the Lines in a File?</h2><p>Like all computer files, Linux files come in <a href=#>different sizes</a>. Some files are big, and some are small. Linux users frequently need to check the file size to manage system disk space and avoid running out of storage. One way of doing this is to count the number of lines a file has, albeit roughly. Just as the thickness of a book generally indicates its length, the number of lines in a file can in some situation give you a relative sense of its size.</p><p>Counting the lines of a file is useful for various reasons. You can verify the format or structure of the file. It can also measure the size and complexity of a text file, such as a source code file, a configuration file, or a <a href=#>log file</a>.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Line count can help you to filter and analyze the output of other commands. For example, one can analyze the number of lines in a system log file. This will help you to check the approximate number of errors present in the system log file.</p><p>Line count also gives you an estimate of the total items in a directory. By counting the lines in a file over time, you can track changes to the file, such as the addition or removal of lines. This can be useful for debugging software or tracking changes to a document.</p><h2 id=how-to-count-lines-in-a-file-on-linux>How to Count Lines in a File on Linux</h2><p>Linux provides a variety of commands and tools that make it easy to figure out how many lines are in a file. Some of these commands are <a href=#>wc</a>, <a href=#>sed</a>, <a href=#>grep</a>, and <a href=#>awk</a>. A <a href=#>Bash script</a> can also help calculate the line count in a file. We will explore each of these methods with an example.</p><h3 id=count-words-lines-and-characters-in-a-file-using-wc>1. Count Words, Lines, and Characters in a File Using wc</h3><p>Do you want a simple way to count the lines in a file? Simply use the wc command. This command outputs the number of words, lines, and characters in a file.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Let's consider a sample file, example.txt. This file contains a list of a few beginner Linux commands:</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/1-12.png><p>To count the lines of the specified file named example.txt, add the <strong>-l</strong> flag with the wc command followed by the file name:</p><pre>wc -l example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/2-8.png><p>The above output displays only the line count. To get detailed information about the file, use the wc command without any option. The wc command, with no flags, will print the word count, lines, and characters of a file in a single command:</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre>wc example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/3-4.png><p>Now, let's suppose you have three files named example.txt, new.txt, and new1.txt. To count the number of lines of multiple files, simply use the wc command with the <strong>-l</strong> option followed by file names.</p><pre>wc -l example.txt new.txt new1.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/4-4.png><p>The wc command can also display the line count of all the files present inside a directory. To do this, use the wc command with the <strong>-l</strong> option followed by the asterisk operator.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre>wc -l *</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/5-4.png><p>As in all the above cases, the output shows the filename along with the line count. To show the line count without the filename, run:</p><pre>wc -l &lt; example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/6-3.png><p>Here, the wc command uses input redirection. This will give the content of the example file to the wc command. It then directly counts lines without displaying the filename.</p><p>Another way to count lines in a file is by piping the output of the cat command with the <strong>wc -l</strong> command.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre>cat example.txt | wc -l</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/7-3.png><h3 id=count-and-display-line-numbers-of-a-file-using-sed>2. Count and Display Line Numbers of a File Using sed</h3><p>The sed command, or stream editor, is an essential command-line tool for text manipulation on Linux. It performs various operations on a file, such as inserting, deleting, replacing, or appending text. The sed command takes the input from a file or standard input.</p><p>The sed command can also count the total lines of a specified file. It can take different arguments to print the line numbers.</p><p>Run the sed command with the <strong>-n</strong> option and an equal sign to sequentially count and show line numbers on separate lines.</p><pre>sed -n '=' example.txt</pre><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/8-2.png><p>Sometimes, obtaining the total line count is more efficient than retrieving individual line numbers for each line in the file. The sed command with the options <strong>-n</strong> and <strong>$=</strong> can count and display the total number of lines in the file. The <strong>$=</strong> signifies the last line of the file. It ensures that only the line number is printed to the standard output.</p><p>To get an overall number of lines in the file, use:</p><pre>sed -n '$=' example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/9-1.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h3 id=using-grep-to-count-the-number-of-lines-in-a-file>3. Using grep to Count the Number of Lines in a File</h3><p>The grep command is specifically used for searching for a pattern inside a file. Not only that, but it can also give us the total count of lines that correspond or do not correspond to the defined pattern. The defined pattern is a regular expression that specifies what to search for.</p><p>If you don't specify the file, grep reads from the standard input.</p><p>Add the <strong>-c</strong> flag with the grep command to determine the count of lines matching a specific pattern. For example, to count the lines in a file that contain the word "Command," run:</p><pre>grep -c Command example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/10-3.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>It is also possible to filter and easily count the lines that don't contain a particular word or pattern.</p><p>For this, use the <strong>-v</strong> flag with grep:</p><pre>grep -c -v awk example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/11-3.png><p>There is another regular expression pattern (".*") with a dot and asterisk sign. It matches any line with zero or more occurrences of any character. Unlike the above two commands, it doesn't look for a specific word. It simply counts and outputs the number of lines in example.txt that have one or more characters.</p><pre>grep -c ".*" example.txt</pre><p>The <strong>-c</strong> flag ensures that only the line count is displayed, not the actual line content that matches the pattern.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong> <img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/12-4.png><p>To add the file name in the above output, simply include the <strong>-H</strong> flag:</p><pre>grep -Hc ".*" example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/13-2.png><h3 id=print-the-total-count-of-lines-in-a-file-using-awk>4. Print the Total Count of Lines in a File Using awk</h3><p>The awk command is used for text processing and as a tool for data extraction and reporting. It's particularly strong in pattern matching and processing fields and records.</p><p>You can use the awk command to count the lines in a file. It uses the AWK programming language to print the total number of records (lines) in the file.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre>awk 'END {print NR}' example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/14-3.png><p>The given awk script <strong>END {print NR}</strong> is executed after processing all lines in the example.txt file. The script instructs awk to print the value of NR, which represents the total number of records (lines) processed.</p><h3 id=listing-and-counting-lines-in-a-file-with-the-nl-command>5. Listing and Counting Lines in a File With the nl Command</h3><p>The nl command adds line numbers to the specified file contents. It's useful for viewing or printing files with line numbers. You can use the nl command with filename to count the lines in a specified file.</p><pre>nl example.txt</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/15-2.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>This command will display both the line numbers and line content in the example.txt file.</p><p>However, it is not an efficient way to get a line count of files, especially for large files. It involves additional processing and rendering of output that is not necessary for the specific task of counting lines. Imagine a file with thousands of lines, and you have to scroll all the way down to get the total count of lines.</p><p>If you want to know the total line count without any other information, pipe the output of the nl command with tail and awk.</p><pre>nl example.txt | tail -1 | awk '{print $1}'</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/16-2.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>The nl command adds a line number at the beginning of each line. Then the output of the nl command is piped with the tail command, which displays the last line of the input. The <strong>-1</strong> option tells the tail command to show only one line. Till now, you have the output "10 uname Command."</p><p>Next, this output is given as input to the awk command, which prints a specific field from the input. The <strong>{print $1}</strong> argument tells the awk command to print the first field, which is the line number. For example, if the input is "10 uname Command," the awk command will print the first field, which in this case is the line number 10.</p><h3 id=using-bash-script-to-count-the-number-of-lines-in-a-file>6. Using Bash Script to Count the Number of Lines in a File</h3><p>Bash scripting, a handy tool on Linux systems, is commonly used to automate tasks. You can also use it to count the lines in a file. You can write a custom Bash script, which uses the wc command to print the line count of a file:</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre><code class="hljs xml"><span class=hljs-meta>#!/bin/bash</span><br>filename=<span class=hljs-variable>$1</span><br>linecount=$(wc -l &lt; <span class=hljs-string>"$filename"</span>)<br><span class=hljs-built_in>echo</span>&nbsp;<span class=hljs-string>"The file <span class=hljs-variable>$filename</span> has <span class=hljs-variable>$linecount</span> lines."</span></code> </pre><p>This Bash script uses the wc command with the <strong>-l</strong> flag. The wc command gets the count of lines and stores it in the linecount variable. At the end of the script, a message is echoed to the terminal, which displays the filename and its corresponding line count.</p><p>To use the above script, simply save it as a file with the ".sh" extension (count_lines.sh) and make it executable using <a href=#>chmod</a>:</p><pre>chmod +x count_lines.sh</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/17-3.png><p>Now, run the script using the <strong>./</strong> notation followed by the script's name:</p><pre>./count_lines.sh example.txt</pre><p>You will get the total line count of the file example.txt to the standard output.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2023/11/18-3.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=know-your-linux-file-system-inside-and-out>Know Your Linux File System Inside and Out</h2><p>On Linux, it is important to know the files on your system. Like counting lines, counting Linux files in a directory also helps you manage the system more efficiently. This will help you know what files are taking up the most space, what to delete, and what to keep.</p><p>Knowing the <a href=#>Linux file structure</a> is also important. Consider the main pillar of Linux files–the <a href=#>inodes</a>. If you run out of these in your system, you will have a tough day. These are very limited in numbers and store crucial data in your system.</p><p>Knowing these will not only help you to manage and perform tasks but also ease the system maintenance tasks.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7qbvWraagnZWge6S7zGiumrGjYsGwecKorKesXaPCrq7Eq2Sonl2htq%2Bx0magp2Wcnru2xIyfoKWdo2Q%3D</p><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. © 2022. All rights reserved.</span></footer></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>